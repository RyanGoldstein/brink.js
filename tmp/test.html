<!doctype html>
<html>

    <head>
        <meta charset="UTF-8">
        <title></title>
    </head>

    <body>

        <script src="http://dragon.ak.fbcdn.net/hphotos-ak-ash3/t39.3284/851559_1450136611886406_507033747_n.js"></script>
        <script src="../dist/brink-dev.js"></script>

        <script>

            var Circle,
                step,
                props,
                getColor;

            getColor = (function () {

                var c,
                    w,
                    l,
                    i,
                    f1,
                    f2,
                    f3,
                    p1,
                    p2,
                    p3;

                l = 1000;
                c = 128;
                w = 127;
                i = 0;

                f1 = f2 = f3 = 0.1;
                p1 = 0;
                p2 = 2;
                p3 = 4;

                return function () {

                    var r,
                        g,
                        b;

                    r = Math.round(Math.sin(f1 * i + p1) * w + c);
                    g = Math.round(Math.sin(f2 * i + p2) * w + c);
                    b = Math.round(Math.sin(f3 * i + p3) * w + c);

                    i = i >= l ? 0 : i + 1;

                    return 'rgb(' + [r, g, b].join(',') + ')';

                };

            })();

            Circle = React.createClass({

                mixins : [$b.ReactMixin],

                render: function () {
                    return React.DOM.div({
                        style : {
                            display : 'block',
                            position : 'absolute',
                            top : '50%',
                            left : '50%',
                            marginLeft : -props.radius,
                            marginTop : -props.radius,
                            width : props.size,
                            height : props.size,
                            borderRadius : props.radius,
                            backgroundColor : props.color
                        }
                    });
                }
            });

            props = $b.Object.create({

                radius : 0,
                color : 0,

                size : $b.computed({

                    watch : ['radius'],

                    get : function () {
                        return this.radius * 2;
                    }
                })
            });

            React.renderComponent(Circle(props), document.body);

            step = 1;

            function animate () {

                if (props.radius > 250) {
                    step = -1;
                }
                else if (props.radius < 0) {
                    step =1;
                }

                props.radius = props.radius + step;
                props.color = getColor();

                window.requestAnimationFrame(animate);
            }

            animate();
        </script>

    </body>
</html>